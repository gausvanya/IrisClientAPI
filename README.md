# IrisApiCleint

–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å Telegram Iris-API –Ω–∞ —è–∑—ã–∫–µ Kotlin

# –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –±–∏–±–ª–∏–±–æ—Ç–µ–∫–∏:
  - –ü–æ–ª—É—á–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞ –º–µ—à–∫–∞ –±–æ—Ç–∞
  - –ü–æ–ª—É—á–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –∏—Ä–∏—Å–æ–∫, –≥–æ–ª–¥ –∏ –æ—á–∫–æ–≤ –¥–æ–Ω–∞—Ç–∞
  - –ü–æ–ª—É—á–µ–Ω–∏–µ –∞–∫—Ç—É–∞–ª—å–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞ –∞–≥–µ–Ω—Ç–æ–≤ –∏—Ä–∏—Å–∞
  - –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∞–∫–∫–∞—É–Ω—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–∞–ª–µ—è (–¥–∞—Ç–∞ –ø–µ—Ä–≤–æ–≥–æ –ø–æ—è–≤–ª–µ–Ω–∏—è –≤–æ –≤—Å–µ–ª–µ–Ω–Ω–æ–π –∏—Ä–∏—Å–∞, –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –≤ —á–∞—Ç–∞—Ö –∏—Ä–∏—Å–∞, –Ω–∞–ª–∏—á–∏–µ –≤ —Å–ø–∞–º-–±–∞–∑–∞—Ö –∏—Ä–∏—Å–∞, –≤–∞–ª—é—Ç—ã –≤ –º–µ—à–∫–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)
  - –ü–µ—Ä–µ–≤–æ–¥ –≥–æ–ª–¥, –∏—Ä–∏—Å–æ–∫ –∏ –æ—á–∫–æ–≤ –¥–æ–Ω–∞—Ç–∞ –º–µ–∂–¥—É –±–æ—Ç–æ–º –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
  - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è deep-links –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –∏—Ä–∏—Å–æ–º 
  - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–æ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∫ –º–µ—à–∫—É –≤–∞—à–µ–≥–æ –±–æ—Ç–∞
  - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏/—Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –≤–∞–ª—é—Ç—ã –±–æ—Ç—É 
  
    
# –ö–∞–∫ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å?  
–°–∫–∞—á–∞–π—Ç–µ –∑–∞—Ä–∞–Ω–µ–µ [–ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω—ã–π JAR —Ñ–∞–π–ª](https://github.com/gausvanya/IrisClientAPI/releases) –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –µ–≥–æ –≤ —Å–≤–æ–µ–º –ø—Ä–æ–µ–∫—Ç–µ  

# –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≤ API:  
 - –°–æ–∑–¥–∞–π—Ç–µ —Å–≤–æ–µ–≥–æ Telegram –±–æ—Ç–∞ –≤ [BotFather](https://t.me/BotFather)
 - –í –ª–∏—á–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è [Iris | Black Diamond](https://t.me/iris_black_bot) –æ—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É: +–∏—Ä–∏—Å –∫–æ–Ω–Ω–µ–∫—Ç
 - –í—ã–ø–æ–ª–Ω–∏—Ç–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –±–æ—Ç–∞ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏ –ø–æ–ª—É—á–∏—Ç–µ —Å–≤–æ–π —Ç–æ–∫–µ–Ω
 - –°–±—Ä–æ—Å–∏—Ç—å —Ç–æ–∫–µ–Ω –º–æ–∂–Ω–æ –ø–æ –∫–æ–º–∞–Ω–¥–µ: –∫–æ–Ω–Ω–µ–∫—Ç —Å–±—Ä–æ—Å–∏—Ç—å —Ç–æ–∫–µ–Ω @BotId


# –°–ø–æ—Å–æ–±—ã –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è –≤–∞–ª—é—Ç –±–æ—Ç–∞:
 - –ß–µ—Ä–µ–∑ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ deep-links
 - –ü–æ–ø–æ–ª–Ω–∏—Ç—å –±–æ—Ç–∞ [–±–µ–∑ –æ–¥] {—á–∏—Å–ª–æ} @–±–æ—Ç ‚Äî –ø–µ—Ä–µ–≤–æ–¥–∏—Ç –±–æ—Ç—É —á–∏—Å–ª–æ –∏—Ä–∏—Å–æ–∫.  –±–µ–∑ –æ–¥ ‚Äî  –ø–µ—Ä–µ–¥–∞—Ç—å –±–µ–∑ –æ—á–∫–æ–≤ –¥–æ–Ω–∞—Ç–∞ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä)
 - –ü–ø–æ–ø–æ–ª–Ω–∏—Ç—å –±–æ—Ç–∞ –≥–æ–ª–¥ [–±–µ–∑ –æ–¥] {—á–∏—Å–ª–æ} @–±–æ—Ç ‚Äî –ø–µ—Ä–µ–≤–æ–¥–∏—Ç –±–æ—Ç—É —á–∏—Å–ª–æ –∑–æ–ª–æ—Ç—ã—Ö –∏—Ä–∏—Å–æ–∫.  –±–µ–∑ –æ–¥ ‚Äî  –ø–µ—Ä–µ–¥–∞—Ç—å –±–µ–∑ –æ—á–∫–æ–≤ –¥–æ–Ω–∞—Ç–∞ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä)
 - –ü–æ–ø–æ–ª–Ω–∏—Ç—å –±–æ—Ç–∞ –æ–¥ {—á–∏—Å–ª–æ} @–±–æ—Ç ‚Äî –ø–µ—Ä–µ–≤–æ–¥–∏—Ç –±–æ—Ç—É —á–∏—Å–ª–æ –æ—á–∫–æ–≤ –¥–æ–Ω–∞—Ç–∞
  
# –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:
```kotlin
suspend fun main() {
    // –£–∫–∞–∂–∏—Ç–µ —Å–≤–æ–∏ botId –∏ IrisToken
    val api = IrisApiClient(botId = 6897200170, irisToken = "cH2i6pwEqcpDWmSaEOrEaUWjfqda52Lj")

    // –ü–æ–ª—É—á–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –≥–æ–ª–¥, –∏—Ä–∏—Å–æ–∫ –∏ –æ—á–∫–æ–≤ –¥–æ–Ω–∞—Ç–∞
    val historyGold = api.getGoldHistory()
    val historySweets = api.getSweetsHistory()
    val historyDonateScore = api.getDonateScoreHistory()
    println(historyGold)
    println(historySweets)
    println(historyDonateScore)

    // –ü–æ–ª—É—á–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞ –º–µ—à–∫–∞ –±–æ—Ç–∞
    val balance = api.getBalance()
    println(balance)

    // –ü–µ—Ä–µ–≤–æ–¥ –≥–æ–ª–¥, –∏—Ä–∏—Å–æ–∫ –∏ –æ—á–∫–æ–≤ –¥–æ–Ω–∞—Ç–∞ –≤ –¥—Ä—É–≥–æ–π –º–µ—à–æ–∫
    api.giveGold(count = 1, userId = 12345, comment = "–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≥–æ–ª–¥")
    api.giveSweets(count = 1, userId = 12345, comment = "–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏—Ä–∏—Å–æ–∫")
    api.giveDonateScore(count = 1, userId = 12345, comment = "–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—á–∫–æ–≤ –¥–æ–Ω–∞—Ç–∞")

    // –í–∫–ª—é—á–µ–Ω–∏–µ/–≤—ã–∫–ª—é—á–µ–Ω–∏–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –æ—Ç–∫—Ä—ã–≤–∞—Ç—å –º–µ—à–æ–∫ –±–æ—Ç–∞
    api.enableOrDisablePocket(enable = true)
    api.enableOrDisablePocket(enable = false)

    // –ó–∞–ø—Ä–µ—Ç–∏—Ç—å/—Ä–∞–∑—Ä–µ—à–∏—Ç—å –≤—Å–µ–º –ø–µ—Ä–µ–≤–æ–¥–∏—Ç—å –≤–∞–ª—é—Ç—É –±–æ—Ç—É
    api.enableOrDisableAllPocket(enable = false)
    api.enableOrDisableAllPocket(enable = true)

    // –ó–∞–ø—Ä–µ—Ç–∏—Ç—å/—Ä–∞–∑—Ä–µ—à–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –ø–µ—Ä–µ–≤–æ–¥–∏—Ç—å –≤–∞–ª—é—Ç—É –±–æ—Ç—É
    api.allowOrDenyUserPocket(userId = 123456789, enable = false)
    api.allowOrDenyUserPocket(userId = 123456789, enable = true)

    // –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –¥–µ–π—Å—Ç–≤—É—é—â–∏—Ö –∞–≥–µ–Ω—Ç–æ–≤ –∏—Ä–∏—Å–∞.
    val irisAgents = api.getIrisAgents()
    println(irisAgents)

    // –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
    val updates = api.getUpdates()
    if (updates != null) {
        for (update in updates) println(update)
    }

    // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è deep-links –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ –∏—Ä–∏—Å–æ–∫, —Ç–∞–∫ –∂–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è –≥–æ–ª–¥ –∏ –æ—á–∫–∏ –¥–æ–Ω–∞—Ç–∞
    val goldDeepLink = api.generateDeepLink(currency = Currencies.SWEETS, count = 1, comment = "—Ç–µ—Å—Ç_–∏—Ä–∏—Å–æ–∫")
    println(goldDeepLink)

    // –ì–µ–Ω–µ–∞—Ä—Ü–∏—è deel-link –¥–ª—è –≤—ã–¥–∞—á–∏ –±–æ—Ç—É –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ –∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º –¥–∞–Ω–Ω—ã–º –∏—Ä–∏—Å–∞
    val botPermissionsDeelLink = api.generateBotPermissionsDeepLink(
        permissions = listOf(
            BotPermissions.REG,
            BotPermissions.ACTIVITY
        )
    )
    println(botPermissionsDeelLink)

    // –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–∞—Ü–∏–∏ –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è | –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å | –°–ø–∞–º-–ë–∞–∑—ã |
    val userRegistration = api.checkUserReg(userId = 12345)
    val userActivity = api.checkUserActivity(userId = 12345)
    val userSpamBases = api.checkUserSpam(userId = 12345)
    val userStars = api.checkUserStars(userId = 12345)
    val userPocket = api.checkUserPocket(userId = 12345)
    println(
        "–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ:\n" +
                "–î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏: $userRegistration\n" +
                "–ê–∫—Ç–∏–≤ (–¥|–Ω|–º|–≤–µ—Å—å): ${userActivity!!.activity.day} | ${userActivity.activity.week} |" +
                " ${userActivity.activity.month} | ${userActivity.activity.total}\n\n" +
                "–ù–∞–ª–∏—á–∏–µ –≤ —Å–ø–∞–º –±–∞–∑–∞—Ö –∏—Ä–∏—Å–∞:\n" +
                "–°–ø–∞–º: ${userSpamBases!!.spam.isSpam}\n" +
                "–ò–≥–Ω–æ—Ä: ${userSpamBases.spam.isIgnore}" +
                "–°–∫–∞–º: ${userSpamBases.spam.isScam}\n\n" +
                "–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–≤–µ–∑–¥: $userStars\n\n" +
                "–ú–µ—à–æ–∫(–∏—Ä–∏—Å–∫–∏, –≥–æ–ª–¥, –∫–æ–∏–Ω—ã): ${userPocket!!.pocket.sweets} | ${userPocket.pocket.gold} | ${userPocket.pocket.coins}"
    )
}
```

# –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è API –±–∏—Ä–∂–∏:  
```kotlin
suspend fun main() {
    // –°–æ–∑–¥–∞–µ–º –æ–±—ä–µ–∫—Ç –∫–ª–∞—Å—Å–∞ API
    val api = IrisTradesApi()


    // –ú–µ—Ç–æ–¥ –ø–æ–ª—É—á–µ–Ω–∏—è —Å–¥–µ–ª–æ–∫ —Å –≥–æ–ª–¥ –Ω–∞ –±–∏—Ä–∂–µ, –∏–º–µ–µ—Ç—Å—è –ø–∞—Ä–∞–º–µ—Ç—Ä id
    val deals = api.getDeals()

    if (deals != null) {
        for (deal in deals) {
            val id = deal.id
            val volume = deal.volume
            val date = deal.date
            val groupId = deal.groupId
            val type = deal.type
            println("id=$id, volume=$volume, date=$date, groupId=$groupId, type=$type")
        }
    }

    // –ú–µ—Ç–æ–¥ –ø–æ–ª—É—á–µ–Ω–∏—è —Å—Ç–∞–∫–∞–Ω–∞ –∑–∞—è–≤–æ–∫ –±–∏—Ä–∂–∏
    val orderBook = api.getOrderBook()

    if (orderBook != null) {
        val buys = orderBook.buy
        val sells = orderBook.sell

        for (buy in buys) {
            val price = buy.price
            val volume = buy.volume
            println("buys: id=$price, volume=$volume")

        }

        for (sell in sells) {
            val price = sell.price
            val volume = sell.volume
            println("sells: id=$price, volume=$volume")
        }
    }
}
```
  
üìû –ö–æ–Ω—Ç–∞–∫—Ç –¥–ª—è —Å–≤—è–∑–∏: [Telegram](https://t.me/gausvanya)  
  
üÜò –ß–∞—Ç –ø–æ–º–æ—â–∏ [Iris Connect](https://t.me/+AweQAYgm5hwyNjky)
